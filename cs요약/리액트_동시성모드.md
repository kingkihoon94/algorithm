# 리액트의 동시성 모드란?

리액트의 **동시성 모드**는 여러 작업을 비동기적으로 동시에 처리하면서도, 중간에 더 중요한 작업이 들어오면 **우선순위를 바꿔서** 먼저 처리할 수 있는 기능을 의미합니다.

예전 리액트는 **스택 구조**로 이루어졌습니다. 즉, 한 번 렌더링을 시작하면 끝까지 멈추지 않고 모두 처리해야 했습니다. 하지만 **동시성 모드**에서는 작업을 **중간에 멈추거나 잠시 뒤로 미루는 것**이 가능해져, 더 중요한 작업을 먼저 처리할 수 있습니다.

## 동시성의 활용

동시성을 활용하면 중요한 작업과 덜 중요한 작업을 구분하여, **덜 중요한 작업은 백그라운드**에서 처리하고, **중요한 작업은 바로 사용자에게 보여줄 수 있습니다**.

예를 들어, 검색창에 뭔가를 입력할 때 검색 결과가 업데이트되더라도, 리액트는 해당 작업을 백그라운드에서 처리해 **화면의 응답성이 느려지지 않게** 할 수 있습니다.

## 동시성을 활용한 주요 기능

### 1. `startTransition`

`startTransition` 함수를 사용하면 특정 상태 업데이트를 **"덜 중요한 작업"** 으로 분류할 수 있습니다.  
이로 인해 사용자 입력이나 클릭과 같은 **중요한 업데이트가 우선적으로 처리**됩니다.

### 2. `useDeferredValue`

`useDeferredValue` 훅은 값의 업데이트를 **잠시 지연**시킬 수 있어서,  
사용자가 빠르게 입력할 때마다 리렌더링이 발생하지 않도록 **최적화**할 수 있습니다.

## 동시성 모드의 장점

- 사용자와의 상호작용이 **더 매끄럽고 자연스러움**
- 예: 스크롤 도중 무거운 작업이 있어도 **스크롤이 우선적으로 부드럽게 작동**

## 주의할 점 ⚠️

동시성 모드를 **모든 컴포넌트에 무분별하게 적용**하면 **오히려 성능이 떨어질 수 있습니다**.  
→ 필요한 부분에만 신중히 사용하는 것이 중요합니다.

## 동시성이 필요한 상황은 언제일까? 🤔

### 1. **검색 필터링 / 자동완성**

- 사용자가 검색어를 입력할 때마다 결과가 업데이트되는 경우
- 동시성을 적용하면 **입력 자체가 더 중요한 작업**이 되어,  
  검색 결과는 백그라운드에서 업데이트 → **빠르고 부드러운 입력 경험 제공**

### 2. **무거운 데이터 로딩 / 긴 리스트**

- 예: 긴 스크롤 목록을 보는 중에 네트워크로 데이터를 로딩하는 경우
- 동시성으로 로딩은 백그라운드에서 → **스크롤이 최우선으로 부드럽게 렌더링**

### 3. **애니메이션 / 중요 사용자 입력**

- 버튼 클릭 시 UI가 즉각적으로 반응
- 이후에 비동기 작업이 처리되도록 하면 **사용자 경험이 향상됨**

---

> 동시성 모드는 사용자 경험을 최적화하기 위한 중요한 도구입니다.  
> 하지만 적절한 **우선순위 설정**과 **선별적인 적용**이 무엇보다 중요합니다.
