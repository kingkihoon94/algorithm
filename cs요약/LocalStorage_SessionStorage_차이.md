# localStorage와 sessionStorage

localStorage와 sessionStorage는 브라우저에서 제공하는 클라이언트 측 저장소 API로, 둘 다 데이터를 키-값 쌍 형태로 저장합니다.

## 차이점

### localStorage

* 데이터를 **영구적으로 저장**합니다.
* 브라우저를 닫거나 장치를 재부팅해도 데이터가 유지됩니다.
* **동일한 도메인 내의 모든 탭**에서 데이터를 공유할 수 있습니다.
* **사용 예:** 다크모드 설정, 장바구니 데이터 등 장기적으로 유지해야 하는 정보 저장

### sessionStorage

* 데이터가 **현재 브라우저 세션 동안만 유지**됩니다.
* 브라우저 탭이나 창을 닫으면 데이터가 삭제됩니다.
* **같은 도메인이라도 탭 간에는 데이터를 공유하지 않습니다.**
* **사용 예:** 로그인 후 인증 데이터 일시 저장, 특정 탭 전용 데이터 관리 등

## 문제점 🤔

localStorage와 sessionStorage 모두 보안 관점에서 다음과 같은 문제점이 있습니다:

1. **XSS(교차 사이트 스크립팅) 공격에 취약**

   * JavaScript로 접근이 가능하므로, 악의적인 스크립트가 삽입되면 데이터가 노출될 수 있습니다.

2. **데이터 암호화 미지원**

   * 브라우저는 저장된 데이터를 기본적으로 암호화하지 않으므로, 민감한 정보 저장에는 부적절합니다.

## 보안 문제 해결 방법 🧐

1. **민감한 데이터는 절대 저장하지 않기**

   * 인증 토큰, 사용자 비밀번호 등은 localStorage나 sessionStorage에 저장하지 않습니다.

2. **HTTP-Only 쿠키 사용하기**

   * 민감한 정보는 자바스크립트에서 접근할 수 없는 **HTTP-Only 쿠키**를 사용하여 보관합니다.
   * 이를 통해 XSS 공격으로부터 데이터를 보호할 수 있습니다.

3. **XSS 방지 코드 적용**

   * 입력값 검증, CSP(Content Security Policy) 설정, 라이브러리 취약점 점검 등으로 XSS를 사전에 차단합니다.

4. **스토리지 암호화 구현 (권장되지 않음)**

   * 자체적으로 암호화를 구현할 수 있으나, 클라이언트 측 키 관리의 어려움 때문에 신뢰도가 낮습니다.

## 결론

* **localStorage**: 장기적인 데이터 저장에 적합하나 보안에 유의해야 함
* **sessionStorage**: 세션 단위의 임시 데이터 관리에 적합함
* **보안 최우선**: 인증/민감 정보는 브라우저 저장소가 아닌 HTTP-Only 쿠키 활용
